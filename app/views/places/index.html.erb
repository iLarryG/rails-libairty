<div id="map" style="width: 100%; height: 600px;"></div>

<% content_for(:after_js) do %>
  <%= javascript_tag do %>
    $(document).on('ready', function() {
    var handler = Gmaps.build('Google');
    handler.buildMap({ internal: { id: 'map' } }, function() {
    markers = handler.addMarkers(<%= raw @hash.to_json %>);
    handler.bounds.extendWith(markers);
    handler.fitMapToBounds();
    if (markers.length == 0) {
    handler.getMap().setZoom(2);
    } else if (markers.length == 1) {
        handler.getMap().setZoom(14);
      }
    });
    });
  <% end %>
<% end %>


<div class="container">
  <div class="row">
    <div class="col-sm-8 col-sm-offset-2">
      <ul style=" list-style: none; margin-left: -40px;">
        <% @places.each do |place| %>
        <li>
          <h3> <%= link_to place.name, place_path(place) %> </h3>
          <p> Kind:  <%= place.kind%> </p>
          <p> City:  <%= place.city%> </p>
          <p> Address: <%= place.address%> </p>
          <p> About: <%= place.description%> </p>
          <p> Day price: <%= place.day_price%> </p>
          <p> Night price: <%= place.night_price%> </p>
        </li>
        <% end %>
      </ul>
    </div>
  </div>
</div>


